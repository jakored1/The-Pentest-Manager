// This configures the breadcrumbs for the site
// so that the path we are currently in is displayed nicely 

import { Breadcrumb } from "antd";


const ConfigureBreadCrumbs = (selectedMenuItem, tabsHierarchy) => {

    const breadcrumbHierarchy = [];
    
    // Going over the tabs
    for (let i=0; i < tabsHierarchy.length; i++ ) {
        if (tabsHierarchy[i]['key'] === '1') { // Only go over children if its the 'Projects' tab
            // Going over the projects
            for (let k=0; k < tabsHierarchy[i]['children'].length; k++) {
                // Case for 'Add Project' project
                if (tabsHierarchy[i]['children'][k]['key'] === '100') { 
                    if (tabsHierarchy[i]['children'][k]['key'] === selectedMenuItem) {
                        breadcrumbHierarchy.push({title: tabsHierarchy[i]['label']})
                        breadcrumbHierarchy.push({title: tabsHierarchy[i]['children'][k]['label']})
                        break
                    } else { continue }
                }
                // Going over every host in the project
                for (let j=0; j < tabsHierarchy[i]['children'][k]['children'].length; j++) {
                    if (tabsHierarchy[i]['children'][k]['children'][j]['key'] === selectedMenuItem) { // Check if this is the host that was selected
                        breadcrumbHierarchy.push({title: tabsHierarchy[i]['label']})
                        breadcrumbHierarchy.push({title: tabsHierarchy[i]['children'][k]['label']})
                        breadcrumbHierarchy.push({title: tabsHierarchy[i]['children'][k]['children'][j]['label']})
                        break
                    }
                }
            }
        }

        // Check if selected item is a menu tab
        if (tabsHierarchy[i]['key'] === selectedMenuItem) {
            breadcrumbHierarchy.push({title: tabsHierarchy[i]['label']})
        }
    }

    if (breadcrumbHierarchy.length > 0) {
        return (
            <Breadcrumb 
                separator = '/'
                items={breadcrumbHierarchy}
            />
        );
    } else { // If this is the home page
        return (
            <Breadcrumb 
                separator = '/'
                items={[{title: 'Home'}]}
            />
        );
    }

    
};

export default ConfigureBreadCrumbs;

